# é¡¹ç›®æ¦‚è¿°

**Django Hub** æ˜¯ä¸€ä¸ªåŸºäºDjango 4.2æ¡†æ¶æ„å»ºçš„ç°ä»£åŒ–ç”¨æˆ·ç®¡ç†å¹³å°ï¼Œé‡‡ç”¨ä¼ä¸šçº§æ¶æ„è®¾è®¡ï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€è®¤è¯ç³»ç»Ÿå’ŒRESTful APIæ¥å£ã€‚è¯¥é¡¹ç›®å±•ç¤ºäº†ç°ä»£Djangoåº”ç”¨çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬æ¨¡å—åŒ–è®¾è®¡ã€é«˜çº§æ—¥å¿—è®°å½•ã€å®¹å™¨åŒ–éƒ¨ç½²ç­‰ç‰¹æ€§ã€‚

## ä¸»è¦ç‰¹æ€§

### ğŸ—ï¸ æ¶æ„è®¾è®¡
- **ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡**: è§†å›¾å±‚æŒ‰åŠŸèƒ½åˆ†ç¦»ï¼ŒAPIæ¥å£ç‹¬ç«‹ç»„ç»‡
- **ğŸ”§ å‘åå…¼å®¹**: ä¿æŒURLè·¯ç”±å…¼å®¹æ€§çš„åŒæ—¶æ”¯æŒæ–°æ¶æ„
- **ğŸ›¡ï¸ æƒé™ç³»ç»Ÿ**: åŸºäºDjangoåŸç”Ÿæƒé™çš„ä¸‰å±‚æƒé™æ§åˆ¶
- **ğŸ“Š é«˜çº§æ—¥å¿—**: åŸºäºLoguruçš„åˆ†çº§æ—¥å¿—ã€è‡ªåŠ¨è½®è½¬å’Œé”™è¯¯å›æº¯
- **ğŸ¯ å®¢æˆ·ç«¯è¿½è¸ª**: æ”¯æŒå®¢æˆ·ç«¯IPã€User-Agentç­‰ä¿¡æ¯è®°å½•

### ğŸ’¼ ä¸šåŠ¡åŠŸèƒ½
- **ğŸ‘¥ ç”¨æˆ·ç®¡ç†**: å®Œæ•´çš„ç”¨æˆ·CRUDæ“ä½œï¼Œæ”¯æŒç”¨æˆ·çŠ¶æ€ç®¡ç†
- **ğŸ¢ ç”¨æˆ·ç»„ç®¡ç†**: ç”¨æˆ·ç»„çš„åˆ›å»ºã€æ›´æ–°å’Œæˆå‘˜ç®¡ç†
- **ğŸ” æƒé™æ§åˆ¶**: ç»†ç²’åº¦çš„æƒé™ç®¡ç†ç³»ç»Ÿ
- **âš™ï¸ ç³»ç»Ÿåˆå§‹åŒ–**: ä¸€é”®åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®å’Œé…ç½®
- **ğŸ”‘ å¯†ç ç®¡ç†**: å®‰å…¨çš„å¯†ç ä¿®æ”¹å’Œé‡ç½®åŠŸèƒ½

### ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§
- **ğŸŒ RESTful API**: æ ‡å‡†çš„APIè®¾è®¡ï¼Œæ”¯æŒJSONæ ¼å¼
- **ğŸ”’ å®‰å…¨é…ç½®**: CSRFä¿æŠ¤ã€CORSæ”¯æŒã€å®‰å…¨å¤´è®¾ç½®
- **ğŸ³ å®¹å™¨åŒ–**: å®Œæ•´çš„Dockeréƒ¨ç½²æ–¹æ¡ˆ
- **ğŸ“ è¯¦ç»†æ—¥å¿—**: æ“ä½œæ—¥å¿—ã€é”™è¯¯è¿½è¸ªã€æ€§èƒ½ç›‘æ§
- **ğŸ” é”™è¯¯å›æº¯**: è¯¦ç»†çš„é”™è¯¯è¿½è¸ªå’Œè¯Šæ–­åŠŸèƒ½

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ğŸ“± å“åº”å¼è®¾è®¡**: æ”¯æŒå¤šç§è®¾å¤‡å’Œå±å¹•å°ºå¯¸
- **ğŸ­ ç°ä»£UI**: æ¸…æ–°ç®€æ´çš„ç”¨æˆ·ç•Œé¢
- **âš¡ å¿«é€Ÿå“åº”**: ä¼˜åŒ–çš„å‰ç«¯æ€§èƒ½
- **ğŸŒ å›½é™…åŒ–æ”¯æŒ**: å®Œæ•´çš„ä¸­æ–‡æœ¬åœ°åŒ–

## æŠ€æœ¯æ ˆ

| ç»„ä»¶ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **æ¡†æ¶** | Django 4.2+ | Python Webæ¡†æ¶ |
| **æ•°æ®åº“** | SQLite 3.0+ | å¼€å‘æ•°æ®åº“ï¼Œæ”¯æŒç”Ÿäº§ç¯å¢ƒPostgreSQL |
| **WebæœåŠ¡å™¨** | Gunicorn 21.2+ | ç”Ÿäº§ç¯å¢ƒWSGIæœåŠ¡å™¨ |
| **æ—¥å¿—ç³»ç»Ÿ** | Loguru 0.7+ | é«˜çº§Pythonæ—¥å¿—åº“ |
| **è·¨åŸŸæ”¯æŒ** | django-cors-headers 4.7+ | CORSä¸­é—´ä»¶ |
| **å®¹å™¨åŒ–** | Docker 24.0+ | å®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒ |

## ç›®å½•ç»“æ„

```
django-hub/
â”œâ”€â”€ .github/                     # GitHub Actions å·¥ä½œæµ
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ docker-image.yml     # Dockeré•œåƒæ„å»ºé…ç½®
â”œâ”€â”€ DjangoProject/              # Djangoé¡¹ç›®æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ asgi.py                 # ASGIå¼‚æ­¥æœåŠ¡å™¨é…ç½®
â”‚   â”œâ”€â”€ settings.py             # é¡¹ç›®ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ urls.py                 # ä¸»URLè·¯ç”±é…ç½®
â”‚   â””â”€â”€ wsgi.py                 # WSGIæœåŠ¡å™¨é…ç½®
â”œâ”€â”€ demo/                       # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ admin.py                # Django Adminåå°é…ç½®
â”‚   â”œâ”€â”€ apps.py                 # åº”ç”¨é…ç½®ç±»
â”‚   â”œâ”€â”€ models.py               # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ logger.py               # Loguruæ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ views.py                # è§†å›¾å‡½æ•°å…¼å®¹å±‚
â”‚   â”œâ”€â”€ urls.py                 # åº”ç”¨URLè·¯ç”±
â”‚   â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user_api.py         # ç”¨æˆ·ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ group_api.py        # ç”¨æˆ·ç»„ç›¸å…³API
â”‚   â”‚   â””â”€â”€ serializers.py      # APIæ•°æ®åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ views/                  # è§†å›¾å±‚æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth_views.py       # è®¤è¯ç›¸å…³è§†å›¾
â”‚   â”‚   â”œâ”€â”€ user_views.py       # ç”¨æˆ·ç®¡ç†è§†å›¾
â”‚   â”‚   â”œâ”€â”€ group_views.py      # ç”¨æˆ·ç»„ç®¡ç†è§†å›¾
â”‚   â”‚   â””â”€â”€ system_views.py     # ç³»ç»Ÿç®¡ç†è§†å›¾
â”‚   â”œâ”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ static/                 # é™æ€æ–‡ä»¶èµ„æº
â”‚   â”‚   â”œâ”€â”€ css/                # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ style.css       # ä¸»æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ user-management.css  # ç”¨æˆ·ç®¡ç†æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ register.css    # æ³¨å†Œé¡µé¢æ ·å¼
â”‚   â”‚   â””â”€â”€ js/                 # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ templates/              # æ¨¡æ¿æ–‡ä»¶
â”‚       â”œâ”€â”€ demo/               # åº”ç”¨æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ home.html       # é¦–é¡µæ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ login.html      # ç™»å½•é¡µé¢
â”‚       â”‚   â”œâ”€â”€ register.html   # æ³¨å†Œé¡µé¢
â”‚       â”‚   â””â”€â”€ user_management.html  # ç”¨æˆ·ç®¡ç†é¡µé¢
â”‚       â””â”€â”€ base.html           # åŸºç¡€æ¨¡æ¿
â”œâ”€â”€ data/                       # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ db.sqlite3              # SQLiteæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ logs/                       # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ django.log              # åº”ç”¨æ—¥å¿—
â”‚   â””â”€â”€ error.log               # é”™è¯¯æ—¥å¿—
â”œâ”€â”€ staticfiles/                # é™æ€æ–‡ä»¶æ”¶é›†ç›®å½•
â”œâ”€â”€ media/                      # åª’ä½“æ–‡ä»¶ç›®å½•
â”œâ”€â”€ .codebuddy/                 # ä»£ç åŠ©æ‰‹é…ç½®
â”œâ”€â”€ manage.py                   # Djangoç®¡ç†è„šæœ¬
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ Dockerfile                  # Dockeræ„å»ºæ–‡ä»¶
â”œâ”€â”€ entrypoint.sh               # å®¹å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ CLAUDE.md                   # Claude Code å¼€å‘æŒ‡å—
â”œâ”€â”€ CODEBUDDY.md                # ä»£ç åŠ©æ‰‹é…ç½®
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ æ³¨å†Œé¡µé¢æ ·å¼ä¼˜åŒ–ä¸äº¤äº’å®ç°.md  # å¼€å‘æ–‡æ¡£
```

## å¼€å‘ç¯å¢ƒæ­å»º

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+
- **Django**: 4.2+
- **æ•°æ®åº“**: SQLite 3.0+ (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
- **æ“ä½œç³»ç»Ÿ**: Windows / macOS / Linux
- **å†…å­˜**: æœ€ä½ 2GBï¼Œæ¨è 4GB+
- **å­˜å‚¨**: æœ€ä½ 5GB å¯ç”¨ç©ºé—´

### ä¾èµ–å®‰è£…

```bash
pip install -r requirements.txt
```

### æ•°æ®åº“åˆå§‹åŒ–

```bash
python manage.py migrate
```

### åˆ›å»ºè¶…çº§ç”¨æˆ·

```bash
python manage.py createsuperuser
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
python manage.py runserver 0.0.0.0:8000
```

## Dockeréƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
docker build -t django-hub .
```

### è¿è¡Œå®¹å™¨

```bash
docker run -d \
  --name django-hub \
  -p 8000:8000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/logs:/app/logs \
  django-hub
```

## APIæ¥å£

é¡¹ç›®æä¾›å®Œæ•´çš„RESTful APIæ¥å£ï¼Œæ‰€æœ‰APIå‡è¿”å›JSONæ ¼å¼æ•°æ®ï¼Œæ”¯æŒCORSè·¨åŸŸè¯·æ±‚ã€‚

### APIå“åº”æ ¼å¼

æ‰€æœ‰APIæ¥å£ç»Ÿä¸€è¿”å›ä»¥ä¸‹JSONæ ¼å¼ï¼š

```json
{
  "status": "success|error",
  "message": "string",
  "data": "object|array|null",
  "errors": "object|null"
}
```

**çŠ¶æ€ç è¯´æ˜ï¼š**
- `200`: æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `401`: æœªè®¤è¯
- `403`: æƒé™ä¸è¶³
- `404`: èµ„æºä¸å­˜åœ¨
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

### è®¤è¯API

#### ç”¨æˆ·ç™»å½•
```http
POST /demo/login/
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}
```

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /demo/register/
Content-Type: application/json

{
  "username": "string",
  "password": "string",
  "email": "string"
}
```

#### ç”¨æˆ·ç™»å‡º
```http
POST /demo/logout/
```

### ç”¨æˆ·ç®¡ç†API

#### è·å–ç”¨æˆ·åˆ—è¡¨
```http
GET /demo/users/
```

#### åˆ›å»ºç”¨æˆ·
```http
POST /demo/users/create/
Content-Type: application/json

{
  "username": "string",
  "password": "string",
  "email": "string",
  "group_id": "integer (optional)",
  "is_active": "boolean (optional)"
}
```

#### è·å–ç”¨æˆ·è¯¦æƒ…
```http
GET /demo/users/<user_id>/
```

#### æ›´æ–°ç”¨æˆ·ä¿¡æ¯
```http
POST /demo/users/<user_id>/update/
Content-Type: application/json

{
  "username": "string (optional)",
  "email": "string (optional)",
  "password": "string (optional)",
  "group_id": "integer (optional)",
  "is_active": "boolean (optional)"
}
```

#### ä¿®æ”¹ç”¨æˆ·å¯†ç 
```http
POST /demo/users/<user_id>/change-password/
Content-Type: application/json

{
  "new_password": "string"
}
```

#### åˆ é™¤ç”¨æˆ·
```http
DELETE /demo/users/<user_id>/delete/
```

#### è·å–å¯åˆ†é…ç”¨æˆ·
```http
GET /demo/users/available-for-group/<group_id>/
```

### ç”¨æˆ·ç»„ç®¡ç†API

#### è·å–ç”¨æˆ·ç»„åˆ—è¡¨
```http
GET /demo/groups/
```

#### è·å–ç”¨æˆ·ç»„è¯¦æƒ…
```http
GET /demo/groups/<group_id>/
```

#### åˆ›å»ºç”¨æˆ·ç»„
```http
POST /demo/groups/create/
Content-Type: application/json

{
  "name": "string"
}
```

#### æ›´æ–°ç”¨æˆ·ç»„
```http
POST /demo/groups/<group_id>/update/
Content-Type: application/json

{
  "name": "string"
}
```

#### åˆ é™¤ç”¨æˆ·ç»„
```http
DELETE /demo/groups/<group_id>/delete/
```

#### è·å–ç”¨æˆ·ç»„æˆå‘˜
```http
GET /demo/groups/<group_id>/members/
```

### ç³»ç»Ÿç®¡ç†API

#### ç³»ç»Ÿåˆå§‹åŒ–
```http
POST /demo/init/<password>/
```

#### ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
```http
GET /demo/system/status/
```

#### è·å–ç³»ç»Ÿä¿¡æ¯
```http
GET /demo/system/info/
```

## å¼€å‘çº¦å®š

- ä½¿ç”¨Djangoçš„åŸºäºç±»çš„è§†å›¾å’Œå‡½æ•°è§†å›¾æ··åˆå¼€å‘æ¨¡å¼
- éµå¾ªDjangoçš„MTVæ¶æ„æ¨¡å¼
- ä½¿ç”¨Djangoçš„æƒé™ç³»ç»Ÿè¿›è¡Œè®¿é—®æ§åˆ¶
- æ‰€æœ‰APIæ¥å£è¿”å›JSONæ ¼å¼æ•°æ®
- ä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–éƒ¨ç½²
- é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç¦»è§†å›¾å’ŒAPI
- ä½¿ç”¨Loguruè¿›è¡Œé«˜çº§æ—¥å¿—è®°å½•